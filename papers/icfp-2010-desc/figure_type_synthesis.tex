\[\stkc{
%% Form
\boxed{\Gamma \Vdash \propag{\CN{exprEx}}{\pull{\CN{term}}{\CN{type}}}}
\\
\\
%% Reversal
%% \Rule{\Gamma \Vdash \propag{\push{T}{\Set}}
%%                            {T'} \quad
%%       \Gamma \Vdash \propag{\push{t}{T'}}
%%                            {t'}}
%%      {\Gamma \Vdash \propag{(\Bhab{t}{T})}
%%                            {\pull{t'}{T'}}} 
%% \\
%% Context
\Axiom{\Gamma ; \xS ; \Delta \Vdash \propag{\x}
                                           {\pull{\x}{S}}}
\qquad
%% Application
\Rule{\stkl{\Gamma \Vdash \propag{f}
                                 {\pull{f'}{\PiTy{S}{T}}} \\
            \Gamma \Vdash \propag{\push{s}{S}}
                                 {s'}}}
     {\Gamma \Vdash \propag{f\: s}{\pull{f'\: s'}{T\: s'}}} 
\\
%% First projection
\Rule{\Gamma \Vdash \propag{p}
                           {\pull{p'}{\SigmaTy{S}{T}}}}
     {\Gamma \Vdash \propag{\fst{p}}
                           {\pull{\fst{p'}}{S}}} \qquad 
%% Second projection
\Rule{\Gamma \Vdash \propag{p}
                           {\pull{p'}{\SigmaTy{S}{T}}}}
     {\Gamma \Vdash \propag{\snd{p}}
                           {\pull{\snd{p'}}{T\:(\fst{p'})}}}
}\]
