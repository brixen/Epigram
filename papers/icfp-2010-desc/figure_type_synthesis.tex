\[\stkc{
%% Form
\boxed{\Gamma \Vdash \propag{\exprEx}{\pull{\CN{term}}{\CN{type}}}}
\\
\\
%% Reversal
\Rule{\Gamma \Vdash \propag{\push{T}{\Set}}
                           {T'} \quad
      \Gamma \Vdash \propag{\push{t}{T'}}
                           {t'}}
     {\Gamma \Vdash \propag{(\Bhab{t}{T})}
                           {\pull{t'}{T'}}} 
\\
%% Context
\Rule{\Gamma ; \xS ; \Delta \vdash \Valid}
      {\Gamma ; \xS ; \Delta \Vdash \propag{\x}
                                           {\pull{\x}{\M{S}}}}
\qquad
%% Application
\Rule{\stkl{\Gamma \Vdash \propag{\M{f}}
                                 {\pull{\M{f}\M{'}}{\PIS{\xS}{\M{T}}}} \\
            \Gamma \Vdash \propag{\push{\M{s}}{\M{S}}}
                                 {\M{s'}}}}
     {\Gamma \Vdash \propag{\M{f}\: \M{s}}{\pull{\M{f'}\: \M{s'}}{\M{T} [\M{s'}/\x]}}} 
\\
%% First projection
\Rule{\Gamma \Vdash \propag{\M{p}}
                           {\pull{\M{p'}}{\SIGMAS{\xS}{\M{T}}}}}
     {\Gamma \Vdash \propag{\fst{\M{p}}}
                           {\pull{\fst{\M{p'}}}{\M{S}}}} \qquad 
%% Second projection
\Rule{\Gamma \Vdash \propag{\M{p}}
                           {\pull{\M{p'}}{\SIGMAS{\xS}{\M{T}}}}}
     {\Gamma \Vdash \propag{\snd{\M{p}}}
                           {\pull{\snd{\M{p'}}}{\M{T} [\fst{\M{p'}}/\x]}}}
}\]
